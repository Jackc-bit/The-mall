<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DYCI Organizations</title>

<style>
    :root{
        --fade-duration: 1.5s; /* crossfade duration */
        --slide-interval: 4000; /* not used in CSS, for reference */
    }

    body {
        margin: 0;
        font-family: Arial;
        padding: 20px;
        overflow-x: hidden;
        background: url("Background.png") no-repeat center center fixed;
        background-size: cover;
    }

    h1 {
        margin-top: 10px;
        font-size: 32px;
        color: white;
        text-align: center;
        text-shadow: 2px 2px 5px rgba(0,0,0,0.5);
    }

    .container {
        display: flex;
        flex-direction: column;
        gap: 20px;
        margin-top: 20px;
    }

    /* PNG BUTTONS */
    .org-btn {
        width: 100%;
        max-width: 360px;
        aspect-ratio: 3.5 / 1;
        background-size: contain;
        background-position: center;
        background-repeat: no-repeat;
        margin: 0 auto;
        cursor: pointer;
    }

    /* SLIDE-UP PANELS */
    .panel {
        position: fixed;
        bottom: -100vh;
        left: 0;
        width: 100%;
        height: 100vh;
        background: rgba(0,0,0,0.55);
        backdrop-filter: blur(12px);
        -webkit-backdrop-filter: blur(12px);
        border-radius: 25px 25px 0 0;
        padding: 20px;
        overflow-y: auto;
        color: white;
        text-align: center;
        transition: bottom 0.45s ease;
    }

    .closeBtn {
        background: #0057d8;
        color: white;
        padding: 15px 25px;
        font-size: 22px;
        border-radius: 10px;
        margin-top: 20px;
        display: inline-block;
        text-decoration: none;
        cursor: pointer;
    }

    /* CROSSFADE RESPONSIVE SLIDESHOW */
    .slideshow {
        width: 100%;
        max-width: 650px;
        aspect-ratio: 3 / 4;          /* keeps responsive height relative to width */
        margin: 20px auto;
        position: relative;
        overflow: hidden;
        background: black;
        border-radius: 18px;
    }

    .slideshow img {
        position: absolute;
        inset: 0;
        width: 100%;
        height: 100%;
        object-fit: contain;
        opacity: 0;
        transition: opacity var(--fade-duration) ease-in-out;
        z-index: 1;
    }

    /* active slide is visible with opacity 1 */
    .slideshow img.active {
        opacity: 1;
        z-index: 2;
    }

    .panelStill {
        width: 90vw;
        max-width: 650px;
        margin: 20px auto;
        border-radius: 18px;
        display: block;
    }

    /* Make close button stand out on small screens */
    @media (max-width: 420px) {
        .closeBtn { padding: 12px 20px; font-size: 18px; }
    }
</style>
</head>

<body>

<h1>Organizations</h1>

<div class="container">

    <div class="org-btn" style="background-image:url('Sibol.png');"></div>
    <div class="org-btn" style="background-image:url('Archery.png');"></div>

    <div class="org-btn" style="background-image:url('Ascend.png');" onclick="openAscend()"></div>

    <div class="org-btn" style="background-image:url('Avant_Garde.png');"></div>
    <div class="org-btn" style="background-image:url('Axiom.png');"></div>
    <div class="org-btn" style="background-image:url('Coaches.png');"></div>

    <div class="org-btn" style="background-image:url('Csl.png');"></div>
    <div class="org-btn" style="background-image:url('Dance_Troupe.png');"></div>

    <div class="org-btn" style="background-image:url('Debate_Society.png');" onclick="openDebate()"></div>

    <div class="org-btn" style="background-image:url('Dgits.png');"></div>
    <div class="org-btn" style="background-image:url('Dyci_Creatives_Team.png');"></div>
    <div class="org-btn" style="background-image:url('Dyci_Dagalak.png');"></div>

    <div class="org-btn" style="background-image:url('Dyci_Light.png');"></div>
    <div class="org-btn" style="background-image:url('Dyci_Novellus.png');"></div>
    <div class="org-btn" style="background-image:url('Dyci_Primes.png');"></div>
    <div class="org-btn" style="background-image:url('Dycian_Live.png');"></div>
    <div class="org-btn" style="background-image:url('English_Facilitators.png');"></div>
    <div class="org-btn" style="background-image:url('Fencing.png');"></div>

    <div class="org-btn" style="background-image:url('Globalive.png');"></div>
    <div class="org-btn" style="background-image:url('Green_Group.png');"></div>
    <div class="org-btn" style="background-image:url('Himig_Dycian.png');"></div>
    <div class="org-btn" style="background-image:url('Liturgical_Choir.png');"></div>
    <div class="org-btn" style="background-image:url('Ministry_Of_Altar_Services.png');"></div>
    <div class="org-btn" style="background-image:url('Peer_Facilitators_Circle.png');"></div>

    <div class="org-btn" style="background-image:url('Scsl.png');"></div>
    <div class="org-btn" style="background-image:url('Sentinels.png');"></div>
    <div class="org-btn" style="background-image:url('Sequentia_Studios.png');"></div>
    <div class="org-btn" style="background-image:url('Societal_Tycoons.png');"></div>
    <div class="org-btn" style="background-image:url('Speakers_Society.png');"></div>

    <div class="org-btn" style="background-image:url('Strings_Ensemble.png');" onclick="openStrings()"></div>
    <div class="org-btn" style="background-image:url('Symphonia.png');"></div>
    <div class="org-btn" style="background-image:url('Taekwondo.png');"></div>
    <div class="org-btn" style="background-image:url('Takeoff.png');"></div>
    <div class="org-btn" style="background-image:url('The_Ang_Dycian.png');"></div>
    <div class="org-btn" style="background-image:url('Tvqa.png');"></div>

    <div class="org-btn" style="background-image:url('Unicus.png');"></div>
    <div class="org-btn" style="background-image:url('Usbong.png');"></div>
    <div class="org-btn" style="background-image:url('Verbum_Domini.png');"></div>

</div>


<!-- ASCEND PANEL -->
<div id="ascendPanel" class="panel">
    <h2>ASCEND</h2>

    <div class="slideshow" id="ascendSlideshow">
        <img src="ASCEND_ORG1.JPG" alt="ascend 1">
        <img src="ASCEND_ORG2.JPG" alt="ascend 2">
        <!-- ASCEND_ORG3.JPG removed -->
        <img src="ASCEND_ORG4.JPG" alt="ascend 4">
        <img src="ASCEND_ORG5.JPG" alt="ascend 5">
        <img src="ASCEND_ORG6.JPG" alt="ascend 6">
    </div>

    <img src="ASCEND_ORGM.png" class="panelStill" alt="Ascend org">

    <a class="closeBtn" onclick="closeAscend()">Close</a>
</div>


<!-- STRINGS PANEL -->
<div id="stringsPanel" class="panel">
    <h2>Strings Ensemble</h2>

    <div class="slideshow" id="stringsSlideshow">
        <img src="STRINGS_1.jpg" alt="strings 1">
        <img src="STRINGS_2.jpeg" alt="strings 2">
        <img src="STRINGS_3.jpeg" alt="strings 3">
        <img src="STRINGS_4.jpeg" alt="strings 4">
        <img src="STRINGS_5.jpeg" alt="strings 5">
        <img src="STRINGS_7.JPG" alt="strings 7">
        <img src="STRINGS_8.JPG" alt="strings 8">
        <img src="STRINGS_9.JPG" alt="strings 9">
        <img src="STRINGS_10.jpg" alt="strings 10">
        <img src="STRINGS_11.JPG" alt="strings 11">
    </div>

    <img src="STRINGS_ORG.png" class="panelStill" alt="Strings org">
    <img src="STRINGS_QR.png" class="panelStill" alt="Strings qr">

    <a class="closeBtn" onclick="closeStrings()">Close</a>
</div>


<!-- DEBATE PANEL -->
<div id="debatePanel" class="panel">
    <h2>Debate Society</h2>

    <div class="slideshow" id="debateSlideshow">
        <img src="DEBATE_1.JPG" alt="debate 1">
        <img src="DEBATE_2.JPG" alt="debate 2">
        <img src="DEBATE_3.JPG" alt="debate 3">
        <img src="DEBATE_4.JPG" alt="debate 4">
        <img src="DEBATE_5.JPG" alt="debate 5">
    </div>

    <img src="DEBATE_ORG.jpg" class="panelStill" alt="Debate org">

    <a class="closeBtn" onclick="closeDebate()">Close</a>
</div>


<script>
/* Timing: crossfade duration is 1.5s, show each slide for 4s total */
const SLIDE_INTERVAL_MS = 4000; // 4 seconds per slide
const FADE_DURATION_MS = 1500;  // 1.5s crossfade

/* Helper to start crossfading slideshow */
function startCrossfadeSlideshow(slideshowId, intervalVarName, indexVarName) {
    // clear previous interval if exists
    if (window[intervalVarName]) {
        clearInterval(window[intervalVarName]);
        window[intervalVarName] = null;
    }

    const slides = document.querySelectorAll(`#${slideshowId} img`);
    if (!slides.length) return;

    // ensure all slides are ready (opacity 0)
    slides.forEach(img => img.classList.remove('active'));
    // show first
    window[indexVarName] = 0;
    slides[0].classList.add('active');

    // start interval
    window[intervalVarName] = setInterval(() => {
        const current = window[indexVarName];
        const next = (current + 1) % slides.length;

        // add active to next (it will fade in)
        slides[next].classList.add('active');

        // remove active from current (it will fade out)
        slides[current].classList.remove('active');

        window[indexVarName] = next;
    }, SLIDE_INTERVAL_MS);
}

/* Helper to stop slideshow */
function stopSlideshow(intervalVarName) {
    if (window[intervalVarName]) {
        clearInterval(window[intervalVarName]);
        window[intervalVarName] = null;
    }
}

/* ---------------- ASCEND ---------------- */
let ascendIndex = 0;
let ascendInterval = null;

function openAscend() {
    closeStrings();
    closeDebate();
    document.getElementById("ascendPanel").style.bottom = "0";
    startCrossfadeSlideshow("ascendSlideshow", "ascendInterval", "ascendIndex");
}

function closeAscend() {
    document.getElementById("ascendPanel").style.bottom = "-100vh";
    stopSlideshow("ascendInterval");
}

/* ---------------- STRINGS ---------------- */
let stringsIndex = 0;
let stringsInterval = null;

function openStrings() {
    closeAscend();
    closeDebate();
    document.getElementById("stringsPanel").style.bottom = "0";
    startCrossfadeSlideshow("stringsSlideshow", "stringsInterval", "stringsIndex");
}

function closeStrings() {
    document.getElementById("stringsPanel").style.bottom = "-100vh";
    stopSlideshow("stringsInterval");
}

/* ---------------- DEBATE ---------------- */
let debateIndex = 0;
let debateInterval = null;

function openDebate() {
    closeAscend();
    closeStrings();
    document.getElementById("debatePanel").style.bottom = "0";
    startCrossfadeSlideshow("debateSlideshow", "debateInterval", "debateIndex");
}

function closeDebate() {
    document.getElementById("debatePanel").style.bottom = "-100vh";
    stopSlideshow("debateInterval");
}

/* Extra: stop slideshows if user navigates away (optional, polite) */
document.addEventListener('visibilitychange', () => {
    if (document.hidden) {
        stopSlideshow('ascendInterval');
        stopSlideshow('stringsInterval');
        stopSlideshow('debateInterval');
    } else {
        // do nothing â€” slideshows will restart when panel opens
    }
});
</script>

</body>
</html>
